(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(7),c=n.n(r),l=(n(14),n(1)),i=n(2),s=n(4),u=n(3),h=n(5),p=function(t){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.getLocation()}},{key:"getLocation",value:function(){var t=this;console.log("Attempting to get your Location..."),new Promise(function(t,e){navigator.geolocation.getCurrentPosition(t,e)}).then(function(e){var n={lat:JSON.stringify(e.coords.latitude),lon:JSON.stringify(e.coords.longitude)};t.setState({location:n},function(){return t.getPlaces()}),console.log("location: ")}).catch(function(t){console.error(t.message),alert(t.message)})}},{key:"getPlaces",value:function(){var t=this;console.log("get places"),fetch("https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=".concat("AIzaSyD22QncBVk4faWIl1X7VHE9XyJ5zMs39_E","&location=").concat(this.state.location.lat,",").concat(this.state.location.lon,"&radius=1000&type=restaurant"),{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){return t.json()}).then(function(e){console.log(e.results),t.setState({restaurants:e.results})})}},{key:"render",value:function(){var t=this.state&&this.state.restaurants&&this.state.restaurants[Math.floor(Math.random()*this.state.restaurants.length)];return o.a.createElement("div",null,!this.state&&o.a.createElement("div",null,"loading lunch spots..."),o.a.createElement("div",null,t&&o.a.createElement("div",null,o.a.createElement("h2",null,t.name),o.a.createElement("p",null,t.vicinity),o.a.createElement("p",null," rating: ",t.rating," "),o.a.createElement("p",null,"total ratings: ",t.user_ratings_total),o.a.createElement("p",null,"price level: ","$".repeat(t.price_level)))))}}]),e}(o.a.Component),m=(n(15),function(t){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null," Lunch Roulette "),o.a.createElement(p,null))}}]),e}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},8:function(t,e,n){t.exports=n(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.923666e0.chunk.js.map